<template>
    <lightning-card title="Search Combo Demo">
        <lightning-layout>
            <lightning-layout-item size="12" padding="around-medium">
                <c-search-combo label="Search Sample"
                                search-handler={demoSearchHandler}
                                onsearchstart={onSearchStart}
                                onsearchend={onSearchEnd}>
                    <c-list-box>
                        <template if:true={searching}>
                            <c-list-box-item>
                                <lightning-spinner alternative-text="Searching..."></lightning-spinner>
                            </c-list-box-item>
                        </template>
                        <template if:true={hasSearched}>
                            <template if:true={resultEmpty}>
                                <c-list-box-item>
                                    No records found
                                </c-list-box-item>
                            </template>
                            <template if:false={resultEmpty}>
                                <template for:each={result} for:item="item">
                                    <c-list-box-option key={item.id} additional-class="slds-media" variant="entity has-meta">
                                        <span class="slds-media__figure slds-listbox__option-icon">
                                            <span class="slds-icon_container">
                                                <lightning-icon icon-name="standard:contact" size="small"></lightning-icon>
                                            </span>
                                        </span>
                                        <span class="slds-media__body">
                                            <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                {item.firstName} {item.lastName}
                                            </span>
                                            <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">
                                                Contact
                                            </span>
                                        </span>
                                    </c-list-box-option>
                                </template>
                            </template>
                        </template>
                    </c-list-box>
                </c-search-combo>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
</template>